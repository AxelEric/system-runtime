{
	"models": {
		"19fe71f8af13886": {
			"_id": "19fe71f8af13886",
			"_name": "Worker",
			"_schema": "Worker",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"worker": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"send": {
				"params": [
					{
						"name": "message",
						"type": "object"
					}
				]
			}
		},
		"138a81fa1f16435": {
			"_id": "138a81fa1f16435",
			"_name": "RuntimeAdmin",
			"_schema": "RuntimeAdmin",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"start": {
				"params": [
					{
						"name": "path",
						"type": "string",
						"mandatory": false,
						"default": ""
					}
				]
			},
			"stop": {}
		},
		"135c71078810af2": {
			"_id": "135c71078810af2",
			"_name": "RuntimeChannel",
			"_schema": "RuntimeChannel",
			"_inherit": [
				"RuntimeComponent"
			],
			"sync": {},
			"loadSystem": {
				"params": [
					{
						"name": "system",
						"type": "object"
					}
				]
			},
			"createSchema": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "schema",
						"type": "object"
					}
				]
			},
			"updateSchema": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "schema",
						"type": "object"
					}
				]
			},
			"deleteSchema": {
				"params": [
					{
						"name": "id",
						"type": "string"
					}
				]
			},
			"createModel": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "model",
						"type": "object"
					}
				]
			},
			"updateModel": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "model",
						"type": "object"
					}
				]
			},
			"deleteModel": {
				"params": [
					{
						"name": "id",
						"type": "string"
					}
				]
			},
			"createType": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "type",
						"type": "object"
					}
				]
			},
			"updateType": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "type",
						"type": "object"
					}
				]
			},
			"deleteType": {
				"params": [
					{
						"name": "id",
						"type": "string"
					}
				]
			},
			"createComponent": {
				"params": [
					{
						"name": "collection",
						"type": "string"
					},
					{
						"name": "component",
						"type": "object"
					}
				]
			},
			"updateComponent": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "collection",
						"type": "string"
					},
					{
						"name": "component",
						"type": "object"
					}
				]
			},
			"deleteComponent": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "collection",
						"type": "string"
					}
				]
			},
			"createBehavior": {
				"params": [
					{
						"name": "behavior",
						"type": "object"
					}
				]
			},
			"updateBehavior": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "behavior",
						"type": "object"
					}
				]
			},
			"deleteBehavior": {
				"params": [
					{
						"name": "id",
						"type": "string"
					}
				]
			},
			"_core": true,
			"send": {
				"params": [
					{
						"name": "message",
						"type": "object"
					}
				]
			}
		},
		"14c7c105b31a160": {
			"_id": "14c7c105b31a160",
			"_name": "Runtime",
			"load": {
				"params": [
					{
						"name": "url",
						"type": "string"
					},
					{
						"name": "async",
						"type": "boolean",
						"mandatory": false,
						"default": true
					}
				]
			},
			"ready": {},
			"_core": true,
			"version": {
				"type": "string",
				"readOnly": true,
				"mandatory": true,
				"default": "0.0.0"
			},
			"system": {
				"params": [
					{
						"name": "name",
						"type": "string",
						"mandatory": false
					}
				],
				"result": "object"
			}
		},
		"1e7551b54a16170": {
			"_name": "RuntimeBehavior",
			"_core": true,
			"core": {
				"type": "boolean",
				"readOnly": false,
				"mandatory": false,
				"default": false
			},
			"useCoreAPI": {
				"type": "boolean",
				"readOnly": false,
				"mandatory": false,
				"default": false
			},
			"component": {
				"type": "string",
				"readOnly": false,
				"mandatory": true,
				"default": ""
			},
			"action": {
				"type": "javascript",
				"readOnly": false,
				"mandatory": true,
				"default": ""
			},
			"state": {
				"type": "string",
				"readOnly": false,
				"mandatory": true,
				"default": ""
			},
			"_id": "1e7551b54a16170"
		},
		"1b0001bace1c8ef": {
			"_name": "RuntimeClassInfo",
			"_core": true,
			"metamodel": {
				"type": "object",
				"readOnly": true,
				"mandatory": true,
				"default": {}
			},
			"model": {
				"type": "object",
				"readOnly": true,
				"mandatory": true,
				"default": {}
			},
			"property": {
				"params": [
					{
						"name": "name",
						"type": "string"
					}
				],
				"result": "object"
			},
			"properties": {
				"result": "array"
			},
			"link": {
				"params": [
					{
						"name": "name",
						"type": "string"
					}
				],
				"result": "object"
			},
			"links": {
				"result": "array"
			},
			"method": {
				"params": [
					{
						"name": "name",
						"type": "string"
					}
				],
				"result": "object"
			},
			"methods": {
				"result": "array"
			},
			"collection": {
				"params": [
					{
						"name": "name",
						"type": "string"
					}
				],
				"result": "object"
			},
			"collections": {
				"result": "array"
			},
			"event": {
				"params": [
					{
						"name": "name",
						"type": "string"
					}
				],
				"result": "object"
			},
			"events": {
				"result": "array"
			},
			"_id": "1b0001bace1c8ef"
		},
		"1e41613cbb1791a": {
			"_name": "RuntimeComponent",
			"_core": true,
			"on": {
				"params": [
					{
						"name": "state",
						"type": "string"
					},
					{
						"name": "handler",
						"type": "function"
					},
					{
						"name": "useCoreAPI",
						"type": "boolean",
						"mandatory": false
					}
				]
			},
			"off": {
				"params": [
					{
						"name": "state",
						"type": "string",
						"mandatory": false
					},
					{
						"name": "behaviorId",
						"type": "string",
						"mandatory": false
					}
				]
			},
			"require": {
				"params": [
					{
						"name": "id",
						"type": "string"
					}
				]
			},
			"destroy": {
				"params": []
			},
			"classInfo": {
				"type": "@RuntimeClassInfo",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"init": {
				"params": [
					{
						"name": "conf",
						"type": "object"
					}
				]
			},
			"error": {
				"params": [
					{
						"name": "data",
						"type": "errorParam"
					}
				]
			},
			"_id": "1e41613cbb1791a"
		},
		"135e11cdff14c64": {
			"_name": "RuntimeDatabase",
			"_core": true,
			"system": {
				"params": [
					{
						"name": "system",
						"type": "object",
						"mandatory": false
					}
				],
				"result": "string"
			},
			"subsystem": {
				"params": [
					{
						"name": "params",
						"type": "object"
					}
				],
				"result": "string"
			},
			"collections": {
				"result": "object"
			},
			"insert": {
				"params": [
					{
						"name": "classId",
						"type": "string"
					},
					{
						"name": "object",
						"type": "object"
					}
				]
			},
			"update": {
				"params": [
					{
						"name": "schema",
						"type": "string"
					},
					{
						"name": "componentId",
						"type": "string"
					},
					{
						"name": "attributeName",
						"type": "string"
					},
					{
						"name": "attributeValue",
						"type": "object"
					}
				]
			},
			"remove": {
				"params": [
					{
						"name": "classId",
						"type": "string"
					},
					{
						"name": "object",
						"type": "string"
					}
				]
			},
			"_id": "135e11cdff14c64"
		},
		"163a41bd7c16eb1": {
			"_name": "RuntimeLogger",
			"_core": true,
			"level": {
				"type": "log",
				"readOnly": false,
				"mandatory": false,
				"default": "warn"
			},
			"info": {
				"params": [
					{
						"name": "message",
						"type": "string"
					}
				]
			},
			"warn": {
				"params": [
					{
						"name": "message",
						"type": "string"
					}
				]
			},
			"error": {
				"params": [
					{
						"name": "message",
						"type": "string"
					}
				]
			},
			"_id": "163a41bd7c16eb1"
		},
		"12a2f118a6106ef": {
			"_name": "RuntimeMessage",
			"_core": true,
			"event": {
				"type": "string",
				"readOnly": false,
				"mandatory": true,
				"default": ""
			},
			"from": {
				"type": "string",
				"readOnly": false,
				"mandatory": true,
				"default": ""
			},
			"data": {
				"type": "array",
				"readOnly": false,
				"mandatory": true,
				"default": []
			},
			"_id": "12a2f118a6106ef"
		},
		"15b7a1ac5411d42": {
			"_name": "RuntimeMetamodel",
			"_core": true,
			"schema": {
				"params": [
					{
						"name": "schema",
						"type": "object"
					}
				],
				"result": "any"
			},
			"model": {
				"params": [
					{
						"name": "model",
						"type": "object"
					}
				],
				"result": "any"
			},
			"type": {
				"params": [
					{
						"name": "type",
						"type": "object"
					}
				],
				"result": "any"
			},
			"create": {
				"params": []
			},
			"_id": "15b7a1ac5411d42"
		},
		"1cdc5150b219118": {
			"_name": "RuntimeState",
			"_core": true,
			"name": {
				"type": "string",
				"readOnly": false,
				"mandatory": true,
				"default": ""
			},
			"parameters": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"_id": "1cdc5150b219118"
		},
		"1fe83156341885d": {
			"_name": "RuntimeSystem",
			"_core": true,
			"name": {
				"type": "string",
				"readOnly": false,
				"mandatory": true,
				"default": ""
			},
			"master": {
				"type": "boolean",
				"readOnly": false,
				"mandatory": false,
				"default": false
			},
			"subsystem": {
				"type": "boolean",
				"readOnly": false,
				"mandatory": false,
				"default": false
			},
			"version": {
				"type": "string",
				"readOnly": false,
				"mandatory": false,
				"default": "0.0.1"
			},
			"description": {
				"type": "string",
				"readOnly": false,
				"mandatory": false,
				"default": ""
			},
			"schemas": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"models": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"behaviors": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"types": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"components": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"ready": {},
			"sync": {},
			"main": {},
			"_id": "1fe83156341885d"
		}
	},
	"schemas": {
		"155ab18d911ad9f": {
			"_id": "155ab18d911ad9f",
			"_name": "Worker",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"worker": "property",
			"send": "method"
		},
		"10374180581a41f": {
			"_id": "10374180581a41f",
			"_name": "RuntimeAdmin",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"start": "method",
			"stop": "method"
		},
		"104ad1f48518376": {
			"_id": "104ad1f48518376",
			"_name": "RuntimeChannel",
			"sync": "event",
			"loadSystem": "event",
			"createSchema": "event",
			"updateSchema": "event",
			"deleteSchema": "event",
			"createModel": "event",
			"updateModel": "event",
			"deleteModel": "event",
			"createType": "event",
			"updateType": "event",
			"deleteType": "event",
			"createComponent": "event",
			"updateComponent": "event",
			"deleteComponent": "event",
			"createBehavior": "event",
			"updateBehavior": "event",
			"deleteBehavior": "event",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"send": "event"
		},
		"12e211d4cd120a6": {
			"_id": "12e211d4cd120a6",
			"_name": "Runtime",
			"load": "method",
			"ready": "event",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"version": "property",
			"system": "method"
		},
		"1c6ee19f761ff6e": {
			"_name": "RuntimeBehavior",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"core": "property",
			"component": "property",
			"action": "property",
			"state": "property",
			"useCoreAPI": "property",
			"_id": "1c6ee19f761ff6e"
		},
		"1012210ee21316c": {
			"_name": "RuntimeClassInfo",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"model": "property",
			"metamodel": "property",
			"method": "method",
			"methods": "method",
			"property": "method",
			"properties": "method",
			"link": "method",
			"links": "method",
			"collections": "method",
			"collection": "method",
			"event": "method",
			"events": "method",
			"_id": "1012210ee21316c"
		},
		"1c8801349816079": {
			"_name": "RuntimeComponent",
			"_inherit": [],
			"_core": true,
			"classInfo": "property",
			"on": "method",
			"off": "method",
			"require": "method",
			"destroy": "method",
			"init": "method",
			"error": "event",
			"_id": "1c8801349816079"
		},
		"198761e13e1e695": {
			"_name": "RuntimeDatabase",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"system": "method",
			"subsystem": "method",
			"collections": "method",
			"insert": "event",
			"update": "event",
			"remove": "event",
			"_id": "198761e13e1e695"
		},
		"10ffd14c26120ba": {
			"_name": "RuntimeLogger",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"level": "property",
			"info": "method",
			"warn": "method",
			"error": "method",
			"_id": "10ffd14c26120ba"
		},
		"100df162d3128e7": {
			"_name": "RuntimeMessage",
			"_inherit": [],
			"_core": true,
			"event": "property",
			"from": "property",
			"data": "property",
			"_id": "100df162d3128e7"
		},
		"1d8721383c1cd54": {
			"_name": "RuntimeMetamodel",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"schema": "method",
			"model": "method",
			"type": "method",
			"create": "method",
			"_id": "1d8721383c1cd54"
		},
		"141901c45d1dfff": {
			"_name": "RuntimeState",
			"_inherit": [],
			"_core": true,
			"_class": false,
			"name": "property",
			"parameters": "property",
			"_id": "141901c45d1dfff"
		},
		"12f971fa8213cf3": {
			"_name": "RuntimeSystem",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"name": "property",
			"master": "property",
			"subsystem": "property",
			"version": "property",
			"description": "property",
			"schemas": "property",
			"models": "property",
			"behaviors": "property",
			"types": "property",
			"components": "property",
			"sync": "method",
			"main": "method",
			"ready": "event",
			"_id": "12f971fa8213cf3"
		}
	},
	"types": {
		"html": {
			"name": "html",
			"type": "string",
			"core": true
		},
		"css": {
			"name": "css",
			"type": "string",
			"core": true
		},
		"collection": {
			"name": "collection",
			"type": "object",
			"schema": {
				"type": {
					"type": [
						"string"
					],
					"mandatory": true
				},
				"readOnly": {
					"type": "boolean",
					"mandatory": true
				},
				"mandatory": {
					"type": "boolean",
					"mandatory": true
				},
				"default": {
					"type": "object",
					"mandatory": true
				},
				"description": {
					"type": "string",
					"mandatory": false
				}
			},
			"core": true
		},
		"errorParam": {
			"name": "errorParam",
			"type": "object",
			"schema": {
				"message": {
					"type": "string",
					"mandatory": true
				},
				"error": {
					"type": "object",
					"mandatory": true
				}
			},
			"core": true
		},
		"event": {
			"name": "event",
			"type": "object",
			"schema": {
				"params": {
					"type": [
						"parameter"
					],
					"mandatory": false
				},
				"description": {
					"type": "string",
					"mandatory": false
				}
			},
			"core": true
		},
		"javascript": {
			"name": "javascript",
			"type": "string",
			"core": true
		},
		"json": {
			"name": "json",
			"type": "string",
			"core": true
		},
		"link": {
			"name": "link",
			"type": "object",
			"schema": {
				"type": {
					"type": "string",
					"mandatory": true
				},
				"readOnly": {
					"type": "boolean",
					"mandatory": true
				},
				"mandatory": {
					"type": "boolean",
					"mandatory": true
				},
				"default": {
					"type": "@type",
					"mandatory": true
				},
				"description": {
					"type": "string",
					"mandatory": false
				}
			},
			"core": true
		},
		"log": {
			"name": "log",
			"type": "string",
			"value": [
				"info",
				"warn",
				"error"
			],
			"core": true
		},
		"message": {
			"name": "message",
			"type": "object",
			"schema": {
				"event": {
					"type": "string",
					"mandatory": true
				},
				"from": {
					"type": "string",
					"mandatory": false
				},
				"data": {
					"type": "object",
					"mandatory": true
				}
			},
			"core": true
		},
		"method": {
			"name": "method",
			"type": "object",
			"schema": {
				"result": {
					"type": "string",
					"mandatory": false
				},
				"params": {
					"type": [
						"parameter"
					],
					"mandatory": false
				},
				"description": {
					"type": "string",
					"mandatory": false
				}
			},
			"core": true
		},
		"parameter": {
			"name": "parameter",
			"type": "object",
			"schema": {
				"name": {
					"type": "string",
					"mandatory": true
				},
				"type": {
					"type": "string",
					"mandatory": true
				},
				"mandatory": {
					"type": "boolean",
					"mandatory": false
				},
				"default": {
					"type": "@type",
					"mandatory": false
				}
			},
			"core": true
		},
		"property": {
			"name": "property",
			"type": "object",
			"schema": {
				"type": {
					"type": "string",
					"mandatory": true
				},
				"readOnly": {
					"type": "boolean",
					"mandatory": true
				},
				"mandatory": {
					"type": "boolean",
					"mandatory": true
				},
				"default": {
					"type": "@type",
					"mandatory": true
				},
				"description": {
					"type": "string",
					"mandatory": false
				}
			},
			"core": true
		}
	},
	"behaviors": {
		"1c00c107e01c9b3": {
			"_id": "1c00c107e01c9b3",
			"component": "RuntimeAdmin",
			"state": "start",
			"action": "function start(path) {\n    var Worker = null,\n    worker = null,\n    workerPath = '',\n    RuntimeChannel = null,\n    runtimeChannel = null;\n    \n    if (path) {\n        workerPath = path + '/scripts/worker.js';\n        workerPath = workerPath.replace(/\\/\\//g,'/');\n    } else {\n        workerPath = '/designer/scripts/worker.js';\n    }\n    \n    if (typeof SharedWorker !== 'undefined') {\n        \n        if (!this.require('channel-admin')) {\n            RuntimeChannel = this.require('RuntimeChannel');\n            runtimeChannel = new RuntimeChannel({\n                '_id': 'channel-admin',\n                '_core': true\n            });\n            \n            runtimeChannel.on('send', function send(message) {\n                this.require('worker-admin').worker().port.postMessage(message);\n            });\n            \n            // schema change events\n            runtimeChannel.on('createSchema', function createSchema(id, schema) {\n                this.require('metamodel').schema(schema);\n                this.require('metamodel').create();\n            }, true);\n            \n            runtimeChannel.on('updateSchema', function updateSchema(id, schema) {\n                 this.require('metamodel').type(schema);\n                 this.require('metamodel').create();\n            }, true);\n            \n            runtimeChannel.on('deleteSchema', function deleteSchema(id) {\n                $db['Runtime'].remove({'_id': id});\n                this.require('metamodel').create();\n            }, true);\n            \n            // model change events\n            runtimeChannel.on('createModel', function createModel(id, model) {\n                this.require('metamodel').schema(model);\n                this.require('metamodel').create();\n            }, true);\n            \n            runtimeChannel.on('updateModel', function updateModel(id, model) {\n                 this.require('metamodel').type(model);\n                 this.require('metamodel').create();\n            }, true);\n            \n            runtimeChannel.on('deleteModel', function deleteModel(id) {\n                $db['Runtime'].remove({'_id': id});\n                this.require('metamodel').create();\n                $component.removeFromMemory(id);\n            }, true);\n            \n            // type change events\n            runtimeChannel.on('createType', function createType(id, type) {\n                this.require('metamodel').type(type);\n                this.require('metamodel').create();\n            }, true);\n            \n            runtimeChannel.on('updateType', function updateType(id, type) {\n                 this.require('metamodel').type(type);\n                 this.require('metamodel').create();\n            }, true);\n            \n            runtimeChannel.on('deleteType', function deleteType(id) {\n                $db['RuntimeType'].remove({'_id': id});\n                this.require('metamodel').create();\n            }, true);\n            \n            // component change events\n            runtimeChannel.on('createComponent', function createComponent(model, component) {\n                $db[model].insert(component);\n            }, true);\n            \n            runtimeChannel.on('updateComponent', function updateComponent(id, collection, component) {\n                $db[collection].update({'_id': id}, component);\n            }, true);\n            \n            runtimeChannel.on('deleteComponent', function deleteComponent(id, collection) {\n                $db[collection].remove({'_id': id});\n            }, true);\n            \n            // behavior change events\n            runtimeChannel.on('createBehavior', function createBehavior(component) {\n                $db['RuntimeBehavior'].insert(component);\n            }, true);\n            runtimeChannel.on('updateBehavior', function updateBehavior(id, behavior) {\n                this.require(id).action(behavior.action);\n            });\n            runtimeChannel.on('deleteBehavior', function deleteBehavior(id) {\n                $db['RuntimeBehavior'].remove({'_id': id});                  \n            }, true);\n         \n            // System Designer event\n            runtimeChannel.on('sync', function sync() {\n                this.loadSystem(JSON.parse(this.require('db').system()));\n            });\n    \n            Worker = this.require('Worker');\n            worker = new Worker({\n                '_id': 'worker-admin',\n                '_core': true,\n                'worker': new SharedWorker(workerPath),\n            });\n            \n            worker.worker().port.onmessage = function (e) {\n              $db.RuntimeMessage.insert(e.data);\n            };\n            \n            console.info('runtime: admin is started');\n        } else {\n            console.info('runtime: admin is already started');\n        }\n    } else {\n        console.info('runtime: the browser can not run admin features');\n    }\n}",
			"useCoreAPI": true,
			"core": true
		},
		"1d7151dd2d1558f": {
			"_id": "1d7151dd2d1558f",
			"component": "RuntimeAdmin",
			"state": "stop",
			"action": "function stop() {\n    var worker = null,\n    channel = null;\n    \n    worker = this.require('worker-admin');\n    if (worker && worker.worker()) {\n        worker.worker().port.onmessage = function () {};\n        worker.destroy();\n        \n        channel = this.require('channel-admin');\n        if (channel) {\n            channel.destroy();\n        }\n        \n        console.info('runtime: admin is stopped');\n    }\n}",
			"useCoreAPI": true,
			"core": true
		},
		"1fc101c23918773": {
			"component": "RuntimeComponent",
			"state": "off",
			"action": "function off(state, behaviorId) {\n    var args = [],\n    i = 0,\n    length = 0;\n    length = arguments.length;\n    \n    for (i = 0; i < length - 6; i++) {\n        args.push(arguments[i]);\n    }\n    \n    if ($workflow.checkParams({\n        \"component\": this, \n        \"methodName\": \"off\", \n        \"args\": args\n        })) {\n        \n        if (state || behaviorId) {\n            if ($metamodel.isValidState(state, this.constructor.name)) {\n                $behavior.remove({\n                    \"behaviorId\": behaviorId, \n                    \"componentId\": this.id(), \n                    \"state\": state\n                });\n            } else { \n                console.warn(\"runtime: invoke \\'off\\' method of component '\" + this.id() + \"' with an invalid state '\" + state + \"'\"); \n            }\n        } else {\n            $behavior.remove({\n                \"componentId\": this.id()\n            });\n        }\n    }\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1aaee1e6311ff39": {
			"_id": "1aaee1e6311ff39",
			"component": "runtime",
			"state": "load",
			"action": "function load(url, async) {\n    var xhr = null,\n    callbackLoad = null;\n    xhr = new XMLHttpRequest();\n    \n    callbackLoad = function callbackLoad(system) {\n        var sysId = $db.system(system),\n        sys = $component.get(sysId),\n        systems = document.querySelectorAll('link[rel=system]'),\n        nbSubsystem = $db.RuntimeSystem.find({\n            'subsystem': true\n        }); \n        if (sys) {\n            sys.main();\n        } \n        if (systems.length + 1 + nbSubsystem.length === $db.RuntimeSystem.count()) {\n            $component.get('runtime').ready();\n        }\n    };\n    \n    if (async) {\n        xhr.open('GET', url, true);\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    callbackLoad(JSON.parse(xhr.response));\n                }\n            }\n        };\n        xhr.send(null);\n    } else {\n        xhr.open('GET', url, false);\n        xhr.send(null);\n        if (xhr.status === 200) {\n            callbackLoad(JSON.parse(xhr.response));\n        }\n    }\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1f6001773a18791": {
			"_id": "1f6001773a18791",
			"component": "e89c617b6b15d24",
			"state": "main",
			"action": "function main() {\n    var subsystems = [],\n    systems = [],\n    system = null,\n    scripts = [],\n    script = null,\n    pathToDesigner = '',\n    logLevel = 'warn',\n    i = 0,\n    length = 0;\n    \n    subsystems = $db.RuntimeSystem.find({\n        'subsystem': true\n    });\n    subsystems.forEach(function (subsystem) {\n        var subsystemId = subsystem._id;\n        this.require(subsystemId).main();\n    }, this); \n    \n    if (typeof document !== 'undefined') {\n        systems = document.querySelectorAll('link[rel=system]');\n        length = systems.length;\n        \n        // logger\n        scripts = document.querySelectorAll('script[log]');\n        if (scripts.length) {\n            logLevel = scripts[0].getAttribute('log');\n            this.require('logger').level(logLevel);\n        }\n        \n        // systems\n        for (i = 0; i < length; i++) {\n            system = systems[i];\n            \n            if (system.getAttribute('async') === 'false') {\n                this.require('runtime').load(system.href, false);\n            } else {\n                this.require('runtime').load(system.href, true);\n            }\n        }\n        if (length === 0) {\n           this.require('runtime').ready();\n        }\n        \n        // admin\n        scripts = document.querySelectorAll('script[designer]');\n        if (scripts.length) {\n            pathToDesigner = scripts[0].getAttribute('designer');\n            this.require('admin').start(pathToDesigner);\n        }\n    }\n}",
			"core": true,
			"useCoreAPI": true
		},
		"165291c7251cbba": {
			"_id": "165291c7251cbba",
			"component": "Runtime",
			"state": "system",
			"action": "function system(name) {\n    var System = null,\n    system = {},\n    systemId = '',\n    result = [],\n    conf = {};\n    \n    if (name) {\n        conf.master = true;\n        conf.name = name;\n        System = this.require('RuntimeSystem');\n        system = new System(conf);\n    } else {\n        result = $db.RuntimeSystem.find({\n            'master': true\n        });\n        if (result.length) {\n            systemId = result[0]._id;\n            system = $component.get(systemId);\n        }\n    }\n    return system;\n}",
			"core": true,
			"useCoreAPI": true
		},
		"19cb510bd21ab59": {
			"_id": "19cb510bd21ab59",
			"component": "RuntimeClassInfo",
			"state": "collection",
			"action": "function collection(name) {\n    var result = {};\n    if (this.metamodel()[name] === 'collection') {\n        result = this.model()[name];\n    } \n    \n    return result; \n}",
			"core": true
		},
		"1f97e1d74712f25": {
			"_id": "1f97e1d74712f25",
			"component": "RuntimeClassInfo",
			"state": "collections",
			"action": "function collections() {\n    var keys = Object.keys(this.metamodel()),\n    item = '',\n    result = [],\n    i = 0,\n    length = 0;\n    \n    length = keys.length; \n    \n    for (i = 0; i < length; i++) { \n        item = keys[i]; \n        if (this.metamodel()[item] === 'collection') {\n            result.push(item);\n        }\n    }\n    \n    return result;\n}",
			"core": true
		},
		"19b20174b81a1bd": {
			"_id": "19b20174b81a1bd",
			"component": "RuntimeClassInfo",
			"state": "event",
			"action": "function event(name) {\n    var result = {};\n    \n    if (this.metamodel()[name] === 'event') {\n        result = this.model()[name];\n    } \n    \n    return result;\n}",
			"core": true
		},
		"14d521d1bb1559f": {
			"_id": "14d521d1bb1559f",
			"component": "RuntimeClassInfo",
			"state": "events",
			"action": "function events() {\n    var keys = Object.keys(this.metamodel()),\n    item = '',\n    result = [],\n    i = 0,\n    length = 0;\n    \n    length = keys.length;\n    \n    for (i = 0; i < length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === 'event') {\n            result.push(item);\n        }\n    } \n    return result;\n}",
			"core": true
		},
		"17e0519bb414203": {
			"_id": "17e0519bb414203",
			"component": "RuntimeClassInfo",
			"state": "link",
			"action": "function link(name) {\n    var result = {};\n    \n    if (this.metamodel()[name] === 'link') {\n        result = this.model()[name];\n    }\n    return result;\n}",
			"core": true
		},
		"15a2018be91ece9": {
			"_id": "15a2018be91ece9",
			"component": "RuntimeClassInfo",
			"state": "links",
			"action": "function links() { \n    var keys = Object.keys(this.metamodel()),\n    item = '',\n    result = [],\n    i = 0,\n    length = 0;\n    length = keys.length;\n    \n    for (i = 0; i < length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === 'link') {\n            result.push(item);\n        }\n    } return result;\n}",
			"core": true
		},
		"1a89b115c71f3e5": {
			"_id": "1a89b115c71f3e5",
			"component": "RuntimeClassInfo",
			"state": "method",
			"action": "function method(name) {\n    var result = {};\n    if (this.metamodel()[name] === 'method') {\n        result = this.model()[name];\n        \n    }\n    \n    return result;\n}",
			"core": true
		},
		"1706319fa3148f5": {
			"_id": "1706319fa3148f5",
			"component": "RuntimeClassInfo",
			"state": "methods",
			"action": "function methods() {\n    var keys = Object.keys(this.metamodel()),\n    item = '',\n    result = [],\n    i = 0,\n    length = 0;\n    length = keys.length;\n    for (i = 0; i < length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === 'method') {\n            result.push(item);\n        }\n    } \n    \n    return result;\n}",
			"core": true
		},
		"183311d92012fd7": {
			"_id": "183311d92012fd7",
			"component": "RuntimeClassInfo",
			"state": "properties",
			"action": "function properties() { \n    var keys = Object.keys(this.metamodel()),\n    item = '',\n    result = [],\n    i = 0,\n    length = 0;\n    length = keys.length;\n    \n    for (i = 0; i < length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === 'property') {\n            result.push(item);\n        }\n    } return result;\n}",
			"core": true
		},
		"1941e1e60d19055": {
			"_id": "1941e1e60d19055",
			"component": "RuntimeClassInfo",
			"state": "property",
			"action": "function property(name) {\n    var result = {};\n    \n    if (this.metamodel()[name] === 'property') {\n        result = this.model()[name];\n    }\n    return result;\n}",
			"core": true
		},
		"181d01cf151dcbc": {
			"_id": "181d01cf151dcbc",
			"component": "RuntimeComponent",
			"state": "destroy",
			"action": "function destroy() {\n    $component.destroy(this.id());\n}",
			"core": true,
			"useCoreAPI": true
		},
		"179c010d3a1ac6b": {
			"_id": "179c010d3a1ac6b",
			"component": "RuntimeComponent",
			"state": "off",
			"action": "function off(state, behaviorId) {\n    var args = [],\n    i = 0,\n    length = 0;\n    length = arguments.length;\n    \n    for (i = 0; i < length - 7; i++) {\n        args.push(arguments[i]);\n    }\n    \n    if ($workflow.checkParams({\n        \"component\": this, \n        \"methodName\": \"off\", \n        \"args\": args\n        })) {\n        \n        if (state || behaviorId) {\n            if ($metamodel.isValidState(state, this.constructor.name)) {\n                $behavior.remove({\n                    \"behaviorId\": behaviorId, \n                    \"componentId\": this.id(), \n                    \"state\": state\n                });\n            } else { \n                console.warn(\"runtime: invoke \\'off\\' method of component '\" + this.id() + \"' with an invalid state '\" + state + \"'\"); \n            }\n        } else {\n            $behavior.remove({\n                \"componentId\": this.id()\n            });\n        }\n    }\n}",
			"core": true,
			"useCoreAPI": true
		},
		"15b9d17ae51859a": {
			"_id": "15b9d17ae51859a",
			"component": "RuntimeComponent",
			"state": "require",
			"action": "function require(id) {\n    return $component.get(id);\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1a5fb1189b12244": {
			"_id": "1a5fb1189b12244",
			"component": "RuntimeDatabase",
			"state": "collections",
			"action": "function collections() {\n    var result = {},\n    collectionName = '';\n    \n    for (collectionName in $db.store) {\n        if ($db.store.hasOwnProperty(collectionName) && collectionName.indexOf('Runtime') !== 0) {\n            result[collectionName] = $db[collectionName];\n            \n        }\n    }\n    return result;\n}",
			"core": true,
			"useCoreAPI": true
		},
		"157fd1062314d3f": {
			"_id": "157fd1062314d3f",
			"component": "RuntimeDatabase",
			"state": "subsystem",
			"action": "function subsystem(params) {\n    return $db.subsystem(params);\n}",
			"core": true,
			"useCoreAPI": true
		},
		"16cc21dc9c190f3": {
			"_id": "16cc21dc9c190f3",
			"component": "RuntimeDatabase",
			"state": "system",
			"action": "function system(system) {\n    return $db.system(system);\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1f71b1b77a17667": {
			"_id": "1f71b1b77a17667",
			"component": "RuntimeLogger",
			"state": "error",
			"action": "function error(message) {\n    console.error('runtime: ' + message);\n}",
			"core": true
		},
		"13cbc1a15b147cf": {
			"_id": "13cbc1a15b147cf",
			"component": "RuntimeLogger",
			"state": "info",
			"action": "function info(message) {\n    if (this.level() === 'info') {\n        console.info('runtime: ' + message);\n    }\n}",
			"core": true
		},
		"1a1561eab518428": {
			"_id": "1a1561eab518428",
			"component": "RuntimeLogger",
			"state": "level",
			"action": "function level(val) {\n    $log.level(val);\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1f9c2181b710b58": {
			"_id": "1f9c2181b710b58",
			"component": "RuntimeLogger",
			"state": "warn",
			"action": "function warn(message) {\n    if (this.level() === 'info' || this.level() === 'warn') {\n        console.warn('runtime: ' + message);\n    } \n}",
			"core": true
		},
		"113801641f184af": {
			"_id": "113801641f184af",
			"component": "RuntimeMetamodel",
			"state": "create",
			"action": "function create() {\n        $log.modelCreationBegin(); \n        $metamodel.create();     \n        $log.modelCreationEnd();\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1f8bd1b3b6140a2": {
			"_id": "1f8bd1b3b6140a2",
			"component": "RuntimeMetamodel",
			"state": "model",
			"action": "function model(model) {\n    return $metamodel.model(model);\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1430d16f5e1a0d6": {
			"_id": "1430d16f5e1a0d6",
			"component": "RuntimeMetamodel",
			"state": "schema",
			"action": "function schema(schema) {\n    return $metamodel.schema(schema);\n}",
			"core": true,
			"useCoreAPI": true
		},
		"1be9715b211629d": {
			"_id": "1be9715b211629d",
			"component": "RuntimeMetamodel",
			"state": "type",
			"action": "function type(type) {\n    return $metamodel.type(type);\n}",
			"core": true,
			"useCoreAPI": true
		},
		"166881599113e83": {
			"_id": "166881599113e83",
			"component": "RuntimeSystem",
			"state": "sync",
			"action": "function sync() {\n    var system = JSON.parse($db.system());\n    \n    this.schemas(system.schemas);\n    this.types(system.types);\n    this.behaviors(system.behaviors);\n    this.components(system.components);\n}",
			"core": true,
			"useCoreAPI": true
		}
	},
	"components": {
		"RuntimeAdmin": {
			"admin": {
				"_id": "admin",
				"_core": true
			}
		},
		"Runtime": {
			"runtime": {
				"_id": "runtime",
				"version": "1.3.2"
			}
		},
		"RuntimeDatabase": {
			"db": {
				"_id": "db"
			}
		},
		"RuntimeLogger": {
			"logger": {
				"_id": "logger"
			}
		},
		"RuntimeMetamodel": {
			"metamodel": {
				"_id": "metamodel"
			}
		},
		"RuntimeSystem": {
			"18ed81de331252c": {
				"_id": "18ed81de331252c",
				"name": "system-admin",
				"version": "0.2.0",
				"description": "Runtime Component administration ",
				"subsystem": true,
				"master": false
			},
			"133421d0c313d2d": {
				"_id": "133421d0c313d2d",
				"name": "web",
				"version": "0.1.0",
				"description": "Add behaviors for web",
				"subsystem": true,
				"master": false
			},
			"1f6ff194df1c37a": {
				"_id": "1f6ff194df1c37a",
				"name": "webType",
				"version": "0.1.0",
				"description": "Add types for web",
				"subsystem": true,
				"master": false
			}
		}
	},
	"name": "runtime",
	"version": "1.3.2",
	"description": "Runtime",
	"_id": "e89c617b6b15d24",
	"master": false,
	"subsystem": false
}