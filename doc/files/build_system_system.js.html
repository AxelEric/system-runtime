<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>build/system/system.js - system-runtime</title>
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/css/lucid.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-skin-sam">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <h1 class="brand" style="padding: 10px 16px 10px; height: 20px; line-height: 20px; margin-left: 0;">
            system-runtime
        </h1>
	<div class="nav">
            <li class="divider-vertical"></li>
            <li>
                <p class="navbar-text">
                    API Docs for Version: <b>1.0.0</b>
                </p>
            </li>
        </div>
        <form class="navbar-form pull-right" style="line-height: 40px; height: 40px;">
            <input style="margin-top: 0;" type="text" class="search-query" placeholder="Search for classes/modules..." data-obj='["classes/runtime", "classes/runtime-behavior", "classes/runtime-component", "classes/runtime-db", "classes/runtime-helper", "classes/runtime-log", "classes/runtime-metamodel", "classes/runtime-state", "classes/runtime-system", "classes/runtime-workflow", "classes/RuntimeDatabaseCollection", "classes/RuntimeError", "modules/runtime", "modules/runtime-behavior", "modules/runtime-component", "modules/runtime-db", "modules/runtime-helper", "modules/runtime-log", "modules/runtime-metamodel", "modules/runtime-state", "modules/runtime-system", "modules/runtime-workflow"]'>
        </form>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span3">
<div>
    <div id="sidebar">
    <div id="classes">
        <ul id="api-classes" class="nav nav-list">
                <li><a href="../classes/runtime.html">runtime</a></li>
                <li><a href="../classes/runtime-behavior.html">runtime-behavior</a></li>
                <li><a href="../classes/runtime-component.html">runtime-component</a></li>
                <li><a href="../classes/runtime-db.html">runtime-db</a></li>
                <li><a href="../classes/runtime-helper.html">runtime-helper</a></li>
                <li><a href="../classes/runtime-log.html">runtime-log</a></li>
                <li><a href="../classes/runtime-metamodel.html">runtime-metamodel</a></li>
                <li><a href="../classes/runtime-state.html">runtime-state</a></li>
                <li><a href="../classes/runtime-system.html">runtime-system</a></li>
                <li><a href="../classes/runtime-workflow.html">runtime-workflow</a></li>
                <li><a href="../classes/RuntimeDatabaseCollection.html">RuntimeDatabaseCollection</a></li>
                <li><a href="../classes/RuntimeError.html">RuntimeError</a></li>
        </ul>
    </div>
    </div>
</div>
        </div>
        <div class="span9">
    <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>

            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<div class="page-header">
    <h1>build/system/system.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums">
/*
 * Runtime
 * https://system-runtime.github.io
 * @ecarriou
 *  
 * Copyright (c) 2016 Erwan Carriou
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the &quot;Software&quot;), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE. 
 */

/**
 * This module contains Runtime core system.
 *
 * @module runtime
 * @submodule runtime-system
 * @class runtime-system
 * @static 
 */

&#x27;use strict&#x27;;


/* Public properties */


/*
 * Runtime core system
 * @property {RuntimeSystem} system
 */
var system = {
    &quot;schemas&quot;: {
        &quot;Worker&quot;: {
            &quot;_id&quot;: &quot;Worker&quot;,
            &quot;_name&quot;: &quot;Worker&quot;,
            &quot;_schema&quot;: &quot;WorkerSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;worker&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: {}
            },
            &quot;send&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;message&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            }
        },
        &quot;WorkerSchema&quot;: {
            &quot;_id&quot;: &quot;WorkerSchema&quot;,
            &quot;_name&quot;: &quot;WorkerSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;worker&quot;: &quot;property&quot;,
            &quot;send&quot;: &quot;method&quot;
        },
        &quot;RuntimeAdminSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeAdminSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeAdminSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;start&quot;: &quot;method&quot;,
            &quot;stop&quot;: &quot;method&quot;
        },
        &quot;RuntimeAdmin&quot;: {
            &quot;_id&quot;: &quot;RuntimeAdmin&quot;,
            &quot;_name&quot;: &quot;RuntimeAdmin&quot;,
            &quot;_schema&quot;: &quot;RuntimeAdminSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;start&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;path&quot;,
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: false,
                    &quot;default&quot;: &quot;&quot;
                }]
            },
            &quot;stop&quot;: {}
        },
        &quot;RuntimeChannelSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeChannelSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeChannelSchema&quot;,
            &quot;sync&quot;: &quot;event&quot;,
            &quot;loadSystem&quot;: &quot;event&quot;,
            &quot;createSchema&quot;: &quot;event&quot;,
            &quot;updateSchema&quot;: &quot;event&quot;,
            &quot;deleteSchema&quot;: &quot;event&quot;,
            &quot;createModel&quot;: &quot;event&quot;,
            &quot;updateModel&quot;: &quot;event&quot;,
            &quot;deleteModel&quot;: &quot;event&quot;,
            &quot;createType&quot;: &quot;event&quot;,
            &quot;updateType&quot;: &quot;event&quot;,
            &quot;deleteType&quot;: &quot;event&quot;,
            &quot;createComponent&quot;: &quot;event&quot;,
            &quot;updateComponent&quot;: &quot;event&quot;,
            &quot;deleteComponent&quot;: &quot;event&quot;,
            &quot;createBehavior&quot;: &quot;event&quot;,
            &quot;updateBehavior&quot;: &quot;event&quot;,
            &quot;deleteBehavior&quot;: &quot;event&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;send&quot;: &quot;event&quot;
        },
        &quot;RuntimeChannel&quot;: {
            &quot;_id&quot;: &quot;RuntimeChannel&quot;,
            &quot;_name&quot;: &quot;RuntimeChannel&quot;,
            &quot;_schema&quot;: &quot;RuntimeChannelSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;,
                &quot;RuntimeComponent&quot;
            ],
            &quot;sync&quot;: {},
            &quot;loadSystem&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;system&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;createSchema&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;schema&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;updateSchema&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;schema&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;deleteSchema&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            },
            &quot;createModel&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;model&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;updateModel&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;model&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;deleteModel&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            },
            &quot;createType&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;type&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;updateType&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;type&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;deleteType&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            },
            &quot;createComponent&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;collection&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;component&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;updateComponent&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;collection&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;component&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;deleteComponent&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;collection&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            },
            &quot;createBehavior&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;behavior&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;updateBehavior&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;behavior&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;deleteBehavior&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            },
            &quot;_core&quot;: true,
            &quot;send&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;message&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            }
        },
        &quot;RuntimeSchema&quot;: {
            &quot;load&quot;: &quot;method&quot;,
            &quot;ready&quot;: &quot;event&quot;,
            &quot;_id&quot;: &quot;RuntimeSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;version&quot;: &quot;property&quot;,
            &quot;system&quot;: &quot;method&quot;,
            &quot;warning&quot;: &quot;event&quot;
        },
        &quot;Runtime&quot;: {
            &quot;load&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;url&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;async&quot;,
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: false,
                    &quot;default&quot;: true
                }]
            },
            &quot;ready&quot;: {},
            &quot;_id&quot;: &quot;Runtime&quot;,
            &quot;_name&quot;: &quot;Runtime&quot;,
            &quot;_schema&quot;: &quot;RuntimeSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;version&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: true,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;0.0.0&quot;
            },
            &quot;warning&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;message&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            },
            &quot;system&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;name&quot;,
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: false
                }],
                &quot;result&quot;: &quot;object&quot;
            }
        },
        &quot;RuntimeBehavior&quot;: {
            &quot;_id&quot;: &quot;RuntimeBehavior&quot;,
            &quot;_name&quot;: &quot;RuntimeBehavior&quot;,
            &quot;_schema&quot;: &quot;RuntimeBehaviorSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;core&quot;: {
                &quot;type&quot;: &quot;boolean&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: false
            },
            &quot;useCoreAPI&quot;: {
                &quot;type&quot;: &quot;boolean&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: false
            },
            &quot;component&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;&quot;
            },
            &quot;action&quot;: {
                &quot;type&quot;: &quot;javascript&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;&quot;
            },
            &quot;state&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;&quot;
            }
        },
        &quot;RuntimeBehaviorSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeBehaviorSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeBehaviorSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;core&quot;: &quot;property&quot;,
            &quot;component&quot;: &quot;property&quot;,
            &quot;action&quot;: &quot;property&quot;,
            &quot;state&quot;: &quot;property&quot;,
            &quot;useCoreAPI&quot;: &quot;property&quot;
        },
        &quot;RuntimeClassInfo&quot;: {
            &quot;_id&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;_name&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;_schema&quot;: &quot;RuntimeClassInfoSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;metamodel&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: true,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: {}
            },
            &quot;model&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: true,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: {}
            },
            &quot;property&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;name&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }],
                &quot;result&quot;: &quot;object&quot;
            },
            &quot;properties&quot;: {
                &quot;result&quot;: &quot;array&quot;
            },
            &quot;link&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;name&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }],
                &quot;result&quot;: &quot;object&quot;
            },
            &quot;links&quot;: {
                &quot;result&quot;: &quot;array&quot;
            },
            &quot;method&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;name&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }],
                &quot;result&quot;: &quot;object&quot;
            },
            &quot;methods&quot;: {
                &quot;result&quot;: &quot;array&quot;
            },
            &quot;collection&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;name&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }],
                &quot;result&quot;: &quot;object&quot;
            },
            &quot;collections&quot;: {
                &quot;result&quot;: &quot;array&quot;
            },
            &quot;event&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;name&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }],
                &quot;result&quot;: &quot;object&quot;
            },
            &quot;events&quot;: {
                &quot;result&quot;: &quot;array&quot;
            }
        },
        &quot;RuntimeClassInfoSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeClassInfoSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeClassInfoSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;model&quot;: &quot;property&quot;,
            &quot;metamodel&quot;: &quot;property&quot;,
            &quot;method&quot;: &quot;method&quot;,
            &quot;methods&quot;: &quot;method&quot;,
            &quot;property&quot;: &quot;method&quot;,
            &quot;properties&quot;: &quot;method&quot;,
            &quot;link&quot;: &quot;method&quot;,
            &quot;links&quot;: &quot;method&quot;,
            &quot;collections&quot;: &quot;method&quot;,
            &quot;collection&quot;: &quot;method&quot;,
            &quot;event&quot;: &quot;method&quot;,
            &quot;events&quot;: &quot;method&quot;
        },
        &quot;RuntimeComponent&quot;: {
            &quot;_id&quot;: &quot;RuntimeComponent&quot;,
            &quot;_name&quot;: &quot;RuntimeComponent&quot;,
            &quot;_schema&quot;: &quot;RuntimeComponentSchema&quot;,
            &quot;_core&quot;: true,
            &quot;on&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;state&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;handler&quot;,
                    &quot;type&quot;: &quot;function&quot;
                }, {
                    &quot;name&quot;: &quot;useCoreAPI&quot;,
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: false
                }]
            },
            &quot;off&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;state&quot;,
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: false
                }, {
                    &quot;name&quot;: &quot;behaviorId&quot;,
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: false
                }]
            },
            &quot;require&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            },
            &quot;destroy&quot;: {
                &quot;params&quot;: []
            },
            &quot;classInfo&quot;: {
                &quot;type&quot;: &quot;@RuntimeClassInfo&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: {}
            },
            &quot;init&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;conf&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;error&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;data&quot;,
                    &quot;type&quot;: &quot;errorParam&quot;
                }]
            }
        },
        &quot;RuntimeComponentSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeComponentSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeComponentSchema&quot;,
            &quot;_core&quot;: true,
            &quot;classInfo&quot;: &quot;property&quot;,
            &quot;on&quot;: &quot;method&quot;,
            &quot;off&quot;: &quot;method&quot;,
            &quot;require&quot;: &quot;method&quot;,
            &quot;destroy&quot;: &quot;method&quot;,
            &quot;init&quot;: &quot;method&quot;,
            &quot;error&quot;: &quot;event&quot;
        },
        &quot;RuntimeDatabase&quot;: {
            &quot;_id&quot;: &quot;RuntimeDatabase&quot;,
            &quot;_name&quot;: &quot;RuntimeDatabase&quot;,
            &quot;_schema&quot;: &quot;RuntimeDatabaseSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;system&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;system&quot;,
                    &quot;type&quot;: &quot;object&quot;,
                    &quot;mandatory&quot;: false
                }],
                &quot;result&quot;: &quot;string&quot;
            },
            &quot;subsystem&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;params&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }],
                &quot;result&quot;: &quot;string&quot;
            },
            &quot;collections&quot;: {
                &quot;result&quot;: &quot;object&quot;
            },
            &quot;insert&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;classId&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;object&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;update&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;schema&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;componentId&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;attributeName&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;attributeValue&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;remove&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;classId&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }, {
                    &quot;name&quot;: &quot;object&quot;,
                    &quot;type&quot;: &quot;string&quot;
                }]
            }
        },
        &quot;RuntimeDatabaseSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeDatabaseSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeDatabaseSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;system&quot;: &quot;method&quot;,
            &quot;subsystem&quot;: &quot;method&quot;,
            &quot;collections&quot;: &quot;method&quot;,
            &quot;insert&quot;: &quot;event&quot;,
            &quot;update&quot;: &quot;event&quot;,
            &quot;remove&quot;: &quot;event&quot;
        },
        &quot;RuntimeMessage&quot;: {
            &quot;_id&quot;: &quot;RuntimeMessage&quot;,
            &quot;_name&quot;: &quot;RuntimeMessage&quot;,
            &quot;_schema&quot;: &quot;RuntimeMessageSchema&quot;,
            &quot;_core&quot;: true,
            &quot;event&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;&quot;
            },
            &quot;from&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;&quot;
            },
            &quot;data&quot;: {
                &quot;type&quot;: &quot;array&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: []
            }
        },
        &quot;RuntimeMessageSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeMessageSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeMessageSchema&quot;,
            &quot;_core&quot;: true,
            &quot;event&quot;: &quot;property&quot;,
            &quot;from&quot;: &quot;property&quot;,
            &quot;data&quot;: &quot;property&quot;
        },
        &quot;RuntimeMetamodel&quot;: {
            &quot;_id&quot;: &quot;RuntimeMetamodel&quot;,
            &quot;_name&quot;: &quot;RuntimeMetamodel&quot;,
            &quot;_schema&quot;: &quot;RuntimeMetamodelSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;schema&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;schema&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;type&quot;: {
                &quot;params&quot;: [{
                    &quot;name&quot;: &quot;type&quot;,
                    &quot;type&quot;: &quot;object&quot;
                }]
            },
            &quot;create&quot;: {
                &quot;params&quot;: []
            }
        },
        &quot;RuntimeMetamodelSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeMetamodelSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeMetamodelSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;schema&quot;: &quot;method&quot;,
            &quot;type&quot;: &quot;method&quot;,
            &quot;create&quot;: &quot;method&quot;
        },
        &quot;RuntimeState&quot;: {
            &quot;_id&quot;: &quot;RuntimeState&quot;,
            &quot;_name&quot;: &quot;RuntimeState&quot;,
            &quot;_schema&quot;: &quot;RuntimeStateSchema&quot;,
            &quot;_class&quot;: false,
            &quot;_core&quot;: true,
            &quot;name&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;&quot;
            },
            &quot;parameters&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: {}
            }
        },
        &quot;RuntimeStateSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeStateSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeStateSchema&quot;,
            &quot;_core&quot;: true,
            &quot;name&quot;: &quot;property&quot;,
            &quot;parameters&quot;: &quot;property&quot;
        },
        &quot;RuntimeSystem&quot;: {
            &quot;_id&quot;: &quot;RuntimeSystem&quot;,
            &quot;_name&quot;: &quot;RuntimeSystem&quot;,
            &quot;_schema&quot;: &quot;RuntimeSystemSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponent&quot;
            ],
            &quot;_core&quot;: true,
            &quot;name&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: true,
                &quot;default&quot;: &quot;&quot;
            },
            &quot;master&quot;: {
                &quot;type&quot;: &quot;boolean&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: false
            },
            &quot;subsystem&quot;: {
                &quot;type&quot;: &quot;boolean&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: false
            },
            &quot;version&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: &quot;0.0.1&quot;
            },
            &quot;description&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: &quot;&quot;
            },
            &quot;schemas&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: {}
            },
            &quot;behaviors&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: {}
            },
            &quot;types&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: {}
            },
            &quot;components&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;readOnly&quot;: false,
                &quot;mandatory&quot;: false,
                &quot;default&quot;: {}
            },
            &quot;ready&quot;: {},
            &quot;sync&quot;: {},
            &quot;main&quot;: {}
        },
        &quot;RuntimeSystemSchema&quot;: {
            &quot;_id&quot;: &quot;RuntimeSystemSchema&quot;,
            &quot;_name&quot;: &quot;RuntimeSystemSchema&quot;,
            &quot;_inherit&quot;: [
                &quot;RuntimeComponentSchema&quot;
            ],
            &quot;_core&quot;: true,
            &quot;name&quot;: &quot;property&quot;,
            &quot;master&quot;: &quot;property&quot;,
            &quot;subsystem&quot;: &quot;property&quot;,
            &quot;version&quot;: &quot;property&quot;,
            &quot;description&quot;: &quot;property&quot;,
            &quot;schemas&quot;: &quot;property&quot;,
            &quot;behaviors&quot;: &quot;property&quot;,
            &quot;types&quot;: &quot;property&quot;,
            &quot;components&quot;: &quot;property&quot;,
            &quot;sync&quot;: &quot;method&quot;,
            &quot;main&quot;: &quot;method&quot;,
            &quot;ready&quot;: &quot;event&quot;
        }
    },
    &quot;types&quot;: {
        &quot;html&quot;: {
            &quot;name&quot;: &quot;html&quot;,
            &quot;type&quot;: &quot;string&quot;,
            &quot;core&quot;: true
        },
        &quot;css&quot;: {
            &quot;name&quot;: &quot;css&quot;,
            &quot;type&quot;: &quot;string&quot;,
            &quot;core&quot;: true
        },
        &quot;collection&quot;: {
            &quot;name&quot;: &quot;collection&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;type&quot;: {
                    &quot;type&quot;: [
                        &quot;string&quot;
                    ],
                    &quot;mandatory&quot;: true
                },
                &quot;readOnly&quot;: {
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;mandatory&quot;: {
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;default&quot;: {
                    &quot;type&quot;: &quot;object&quot;,
                    &quot;mandatory&quot;: true
                }
            },
            &quot;core&quot;: true
        },
        &quot;errorParam&quot;: {
            &quot;name&quot;: &quot;errorParam&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;message&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;error&quot;: {
                    &quot;type&quot;: &quot;object&quot;,
                    &quot;mandatory&quot;: true
                }
            },
            &quot;core&quot;: true
        },
        &quot;event&quot;: {
            &quot;name&quot;: &quot;event&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;params&quot;: {
                    &quot;type&quot;: [
                        &quot;parameter&quot;
                    ],
                    &quot;mandatory&quot;: false
                }
            },
            &quot;core&quot;: true
        },
        &quot;javascript&quot;: {
            &quot;name&quot;: &quot;javascript&quot;,
            &quot;type&quot;: &quot;string&quot;,
            &quot;core&quot;: true
        },
        &quot;json&quot;: {
            &quot;name&quot;: &quot;json&quot;,
            &quot;type&quot;: &quot;string&quot;,
            &quot;core&quot;: true
        },
        &quot;link&quot;: {
            &quot;name&quot;: &quot;link&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;type&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;readOnly&quot;: {
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;mandatory&quot;: {
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;default&quot;: {
                    &quot;type&quot;: &quot;@type&quot;,
                    &quot;mandatory&quot;: true
                }
            },
            &quot;core&quot;: true
        },
        &quot;message&quot;: {
            &quot;name&quot;: &quot;message&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;event&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;from&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: false
                },
                &quot;data&quot;: {
                    &quot;type&quot;: &quot;object&quot;,
                    &quot;mandatory&quot;: true
                }
            },
            &quot;core&quot;: true
        },
        &quot;method&quot;: {
            &quot;name&quot;: &quot;method&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;result&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: false
                },
                &quot;params&quot;: {
                    &quot;type&quot;: [
                        &quot;parameter&quot;
                    ],
                    &quot;mandatory&quot;: false
                }
            },
            &quot;core&quot;: true
        },
        &quot;parameter&quot;: {
            &quot;name&quot;: &quot;parameter&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;name&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;type&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;mandatory&quot;: {
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: false
                },
                &quot;default&quot;: {
                    &quot;type&quot;: &quot;@type&quot;,
                    &quot;mandatory&quot;: false
                }
            },
            &quot;core&quot;: true
        },
        &quot;property&quot;: {
            &quot;name&quot;: &quot;property&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;schema&quot;: {
                &quot;type&quot;: {
                    &quot;type&quot;: &quot;string&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;readOnly&quot;: {
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;mandatory&quot;: {
                    &quot;type&quot;: &quot;boolean&quot;,
                    &quot;mandatory&quot;: true
                },
                &quot;default&quot;: {
                    &quot;type&quot;: &quot;@type&quot;,
                    &quot;mandatory&quot;: true
                }
            },
            &quot;core&quot;: true
        }
    },
    &quot;behaviors&quot;: {
        &quot;1c00c107e01c9b3&quot;: {
            &quot;_id&quot;: &quot;1c00c107e01c9b3&quot;,
            &quot;component&quot;: &quot;RuntimeAdmin&quot;,
            &quot;state&quot;: &quot;start&quot;,
            &quot;action&quot;: &quot;function start(path) {\n    var Worker = null,\n    worker = null,\n    workerPath = &#x27;&#x27;,\n    RuntimeChannel = null,\n    runtimeChannel = null;\n    \n    if (path) {\n        workerPath = path + &#x27;/scripts/worker.js&#x27;;\n        workerPath = workerPath.replace(/\\/\\//g,&#x27;/&#x27;);\n    } else {\n        workerPath = &#x27;/designer/scripts/worker.js&#x27;;\n    }\n    \n    if (typeof SharedWorker !== &#x27;undefined&#x27;) {\n        \n        if (!this.require(&#x27;channel-admin&#x27;)) {\n            RuntimeChannel = this.require(&#x27;RuntimeChannel&#x27;);\n            runtimeChannel = new RuntimeChannel({\n                &#x27;_id&#x27;: &#x27;channel-admin&#x27;,\n                &#x27;_core&#x27;: true\n            });\n            \n            runtimeChannel.on(&#x27;send&#x27;, function send(message) {\n                this.require(&#x27;worker-admin&#x27;).worker().port.postMessage(message);\n            });\n            \n            // schema change events\n            runtimeChannel.on(&#x27;createSchema&#x27;, function createSchema(id, schema) {\n                this.require(&#x27;metamodel&#x27;).schema(schema);\n                this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            runtimeChannel.on(&#x27;updateSchema&#x27;, function updateSchema(id, schema) {\n                 this.require(&#x27;metamodel&#x27;).type(schema);\n                 this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            runtimeChannel.on(&#x27;deleteSchema&#x27;, function deleteSchema(id) {\n                $db[&#x27;RuntimeSchema&#x27;].remove({&#x27;_id&#x27;: id});\n                this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            // model change events\n            runtimeChannel.on(&#x27;createModel&#x27;, function createModel(id, model) {\n                this.require(&#x27;metamodel&#x27;).schema(model);\n                this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            runtimeChannel.on(&#x27;updateModel&#x27;, function updateModel(id, model) {\n                 this.require(&#x27;metamodel&#x27;).type(model);\n                 this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            runtimeChannel.on(&#x27;deleteModel&#x27;, function deleteModel(id) {\n                $db[&#x27;RuntimeSchema&#x27;].remove({&#x27;_id&#x27;: id});\n                this.require(&#x27;metamodel&#x27;).create();\n                $component.removeFromMemory(id);\n            }, true);\n            \n            // type change events\n            runtimeChannel.on(&#x27;createType&#x27;, function createType(id, type) {\n                this.require(&#x27;metamodel&#x27;).type(type);\n                this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            runtimeChannel.on(&#x27;updateType&#x27;, function updateType(id, type) {\n                 this.require(&#x27;metamodel&#x27;).type(type);\n                 this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            runtimeChannel.on(&#x27;deleteType&#x27;, function deleteType(id) {\n                $db[&#x27;RuntimeType&#x27;].remove({&#x27;_id&#x27;: id});\n                this.require(&#x27;metamodel&#x27;).create();\n            }, true);\n            \n            // component change events\n            runtimeChannel.on(&#x27;createComponent&#x27;, function createComponent(model, component) {\n                $db[model].insert(component);\n            }, true);\n            \n            runtimeChannel.on(&#x27;updateComponent&#x27;, function updateComponent(id, collection, component) {\n                $db[collection].update({&#x27;_id&#x27;: id}, component);\n            }, true);\n            \n            runtimeChannel.on(&#x27;deleteComponent&#x27;, function deleteComponent(id, collection) {\n                $db[collection].remove({&#x27;_id&#x27;: id});\n            }, true);\n            \n            // behavior change events\n            runtimeChannel.on(&#x27;createBehavior&#x27;, function createBehavior(component) {\n                $db[&#x27;RuntimeBehavior&#x27;].insert(component);\n            }, true);\n            runtimeChannel.on(&#x27;updateBehavior&#x27;, function updateBehavior(id, behavior) {\n                this.require(id).action(behavior.action);\n            });\n            runtimeChannel.on(&#x27;deleteBehavior&#x27;, function deleteBehavior(id) {\n                $db[&#x27;RuntimeBehavior&#x27;].remove({&#x27;_id&#x27;: id});                  \n            }, true);\n         \n            // System Designer event\n            runtimeChannel.on(&#x27;sync&#x27;, function sync() {\n                this.loadSystem(JSON.parse(this.require(&#x27;db&#x27;).system()));\n            });\n    \n            Worker = this.require(&#x27;Worker&#x27;);\n            worker = new Worker({\n                &#x27;_id&#x27;: &#x27;worker-admin&#x27;,\n                &#x27;_core&#x27;: true,\n                &#x27;worker&#x27;: new SharedWorker(workerPath),\n            });\n            \n            worker.worker().port.onmessage = function (e) {\n              $db.RuntimeMessage.insert(e.data);\n            };\n            \n            console.info(&#x27;runtime: admin is started&#x27;);\n        } else {\n            console.info(&#x27;runtime: admin is already started&#x27;);\n        }\n    } else {\n        console.info(&#x27;runtime: the browser can not run admin features&#x27;);\n    }\n}&quot;,
            &quot;useCoreAPI&quot;: true,
            &quot;core&quot;: true
        },
        &quot;1d7151dd2d1558f&quot;: {
            &quot;_id&quot;: &quot;1d7151dd2d1558f&quot;,
            &quot;component&quot;: &quot;RuntimeAdmin&quot;,
            &quot;state&quot;: &quot;stop&quot;,
            &quot;action&quot;: &quot;function stop() {\n    var worker = null,\n    channel = null;\n    \n    worker = this.require(&#x27;worker-admin&#x27;);\n    if (worker &amp;&amp; worker.worker()) {\n        worker.worker().port.onmessage = function () {};\n        worker.destroy();\n        \n        channel = this.require(&#x27;channel-admin&#x27;);\n        if (channel) {\n            channel.destroy();\n        }\n        \n        console.info(&#x27;runtime: admin is stopped&#x27;);\n    }\n}&quot;,
            &quot;useCoreAPI&quot;: false,
            &quot;core&quot;: false
        },
        &quot;1fc101c23918773&quot;: {
            &quot;component&quot;: &quot;RuntimeComponent&quot;,
            &quot;state&quot;: &quot;off&quot;,
            &quot;action&quot;: &quot;function off(state, behaviorId) {\n    var args = [],\n    i = 0,\n    length = 0;\n    length = arguments.length;\n    \n    for (i = 0; i &lt; length - 6; i++) {\n        args.push(arguments[i]);\n    }\n    \n    if ($workflow.checkParams({\n        \&quot;component\&quot;: this, \n        \&quot;methodName\&quot;: \&quot;off\&quot;, \n        \&quot;args\&quot;: args\n        })) {\n        \n        if (state || behaviorId) {\n            if ($metamodel.isValidState(state, this.constructor.name)) {\n                $behavior.remove({\n                    \&quot;behaviorId\&quot;: behaviorId, \n                    \&quot;componentId\&quot;: this.id(), \n                    \&quot;state\&quot;: state\n                });\n            } else { \n                console.warn(\&quot;runtime: invoke \\&#x27;off\\&#x27; method of component &#x27;\&quot; + this.id() + \&quot;&#x27; with an invalid state &#x27;\&quot; + state + \&quot;&#x27;\&quot;); \n            }\n        } else {\n            $behavior.remove({\n                \&quot;componentId\&quot;: this.id()\n            });\n        }\n    }\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;1aaee1e6311ff39&quot;: {
            &quot;_id&quot;: &quot;1aaee1e6311ff39&quot;,
            &quot;component&quot;: &quot;runtime&quot;,
            &quot;state&quot;: &quot;load&quot;,
            &quot;action&quot;: &quot;function load(url, async) {\n    var xhr = null,\n    callbackLoad = null;\n    xhr = new XMLHttpRequest();\n    \n    callbackLoad = function callbackLoad(system) {\n        var sysId = $db.system(system),\n        sys = $component.get(sysId),\n        systems = document.querySelectorAll(&#x27;link[rel=system]&#x27;),\n        nbSubsystem = $db.RuntimeSystem.find({\n            &#x27;subsystem&#x27;: true\n        }); \n        if (sys) {\n            sys.main();\n        } \n        if (systems.length + 1 + nbSubsystem.length === $db.RuntimeSystem.count()) {\n            $component.get(&#x27;runtime&#x27;).ready();\n        }\n    };\n    \n    if (async) {\n        xhr.open(&#x27;GET&#x27;, url, true);\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    callbackLoad(JSON.parse(xhr.response));\n                }\n            }\n        };\n        xhr.send(null);\n    } else {\n        xhr.open(&#x27;GET&#x27;, url, false);\n        xhr.send(null);\n        if (xhr.status === 200) {\n            callbackLoad(JSON.parse(xhr.response));\n        }\n    }\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;1f6001773a18791&quot;: {
            &quot;_id&quot;: &quot;1f6001773a18791&quot;,
            &quot;component&quot;: &quot;e89c617b6b15d24&quot;,
            &quot;state&quot;: &quot;main&quot;,
            &quot;action&quot;: &quot;function main() {\n    var subsystems = [],\n    systems = [],\n    system = null,\n    i = 0,\n    length = 0;\n    \n    subsystems = $db.RuntimeSystem.find({\n        &#x27;subsystem&#x27;: true\n    });\n    subsystems.forEach(function (subsystem) {\n        var subsystemId = subsystem._id;\n        this.require(subsystemId).main();\n    }, this); \n    \n    if (typeof document !== &#x27;undefined&#x27;) {\n        systems = document.querySelectorAll(&#x27;link[rel=system]&#x27;);\n        length = systems.length;\n        \n        for (i = 0; i &lt; length; i++) {\n            system = systems[i];\n            \n            if (system.getAttribute(&#x27;async&#x27;) === &#x27;false&#x27;) {\n                this.require(&#x27;runtime&#x27;).load(system.href, false);\n            } else {\n                this.require(&#x27;runtime&#x27;).load(system.href, true);\n            }\n        }\n        if (length === 0) {\n            this.require(&#x27;runtime&#x27;).ready();\n        }\n    }\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;1acdb14bd212fca&quot;: {
            &quot;_id&quot;: &quot;1acdb14bd212fca&quot;,
            &quot;component&quot;: &quot;Runtime&quot;,
            &quot;state&quot;: &quot;error&quot;,
            &quot;action&quot;: &quot;function error(data) {\n    console.error(&#x27;runtime: &#x27; + data.message, data.error);\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;1d9a8183551e867&quot;: {
            &quot;_id&quot;: &quot;1d9a8183551e867&quot;,
            &quot;component&quot;: &quot;Runtime&quot;,
            &quot;state&quot;: &quot;system&quot;,
            &quot;action&quot;: &quot;function system(name) {\n    var System = null,\n    system = {},\n    systemId = &#x27;&#x27;,\n    result = [],\n    conf = {};\n    \n    if (name) {\n        conf.master = true;\n        conf.name = name;\n        System = this.require(&#x27;RuntimeSystem&#x27;);\n        system = new System(conf);\n    } else {\n        result = $db.RuntimeSystem.find({\n            &#x27;master&#x27;: true\n        });\n        if (result.length) {\n            systemId = result[0]._id;\n            system = $component.get(systemId);\n        }\n    }\n    return system;\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;12a631887a10c15&quot;: {
            &quot;_id&quot;: &quot;12a631887a10c15&quot;,
            &quot;component&quot;: &quot;Runtime&quot;,
            &quot;state&quot;: &quot;warning&quot;,
            &quot;action&quot;: &quot;function warning(message) {\n    console.warn(&#x27;runtime: &#x27; + message);\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;114921c60f13a1a&quot;: {
            &quot;_id&quot;: &quot;114921c60f13a1a&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;collection&quot;,
            &quot;action&quot;: &quot;function collection(name) {\n    var result = {};\n    if (this.metamodel()[name] === &#x27;collection&#x27;) {\n        result = this.model()[name];\n    } \n    \n    return result; \n}&quot;,
            &quot;core&quot;: true
        },
        &quot;149a91ec9a1da6f&quot;: {
            &quot;_id&quot;: &quot;149a91ec9a1da6f&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;collections&quot;,
            &quot;action&quot;: &quot;function collections() {\n    var keys = Object.keys(this.metamodel()),\n    item = &#x27;&#x27;,\n    result = [],\n    i = 0,\n    length = 0;\n    \n    length = keys.length; \n    \n    for (i = 0; i &lt; length; i++) { \n        item = keys[i]; \n        if (this.metamodel()[item] === &#x27;collection&#x27;) {\n            result.push(item);\n        }\n    }\n    \n    return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;176c913c7615f62&quot;: {
            &quot;_id&quot;: &quot;176c913c7615f62&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;event&quot;,
            &quot;action&quot;: &quot;function event(name) {\n    var result = {};\n    \n    if (this.metamodel()[name] === &#x27;event&#x27;) {\n        result = this.model()[name];\n    } \n    \n    return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;1d8be12fe11544f&quot;: {
            &quot;_id&quot;: &quot;1d8be12fe11544f&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;events&quot;,
            &quot;action&quot;: &quot;function events() {\n    var keys = Object.keys(this.metamodel()),\n    item = &#x27;&#x27;,\n    result = [],\n    i = 0,\n    length = 0;\n    \n    length = keys.length;\n    \n    for (i = 0; i &lt; length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === &#x27;event&#x27;) {\n            result.push(item);\n        }\n    } \n    return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;1e11e10615198f5&quot;: {
            &quot;_id&quot;: &quot;1e11e10615198f5&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;link&quot;,
            &quot;action&quot;: &quot;function link(name) {\n    var result = {};\n    \n    if (this.metamodel()[name] === &#x27;link&#x27;) {\n        result = this.model()[name];\n    }\n    return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;1b8f21ce1011dc1&quot;: {
            &quot;_id&quot;: &quot;1b8f21ce1011dc1&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;links&quot;,
            &quot;action&quot;: &quot;function links() { \n    var keys = Object.keys(this.metamodel()),\n    item = &#x27;&#x27;,\n    result = [],\n    i = 0,\n    length = 0;\n    length = keys.length;\n    \n    for (i = 0; i &lt; length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === &#x27;link&#x27;) {\n            result.push(item);\n        }\n    } return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;1c79f148811a459&quot;: {
            &quot;_id&quot;: &quot;1c79f148811a459&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;method&quot;,
            &quot;action&quot;: &quot;function method(name) {\n    var result = {};\n    if (this.metamodel()[name] === &#x27;method&#x27;) {\n        result = this.model()[name];\n        \n    }\n    \n    return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;108301d1d71f6a2&quot;: {
            &quot;_id&quot;: &quot;108301d1d71f6a2&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;methods&quot;,
            &quot;action&quot;: &quot;function methods() {\n    var keys = Object.keys(this.metamodel()),\n    item = &#x27;&#x27;,\n    result = [],\n    i = 0,\n    length = 0;\n    length = keys.length;\n    for (i = 0; i &lt; length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === &#x27;method&#x27;) {\n            result.push(item);\n        }\n    } \n    \n    return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;17f5617ece1f38c&quot;: {
            &quot;_id&quot;: &quot;17f5617ece1f38c&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;properties&quot;,
            &quot;action&quot;: &quot;function properties() { \n    var keys = Object.keys(this.metamodel()),\n    item = &#x27;&#x27;,\n    result = [],\n    i = 0,\n    length = 0;\n    length = keys.length;\n    \n    for (i = 0; i &lt; length; i++) {\n        item = keys[i];\n        if (this.metamodel()[item] === &#x27;property&#x27;) {\n            result.push(item);\n        }\n    } return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;1110a1514d101c6&quot;: {
            &quot;_id&quot;: &quot;1110a1514d101c6&quot;,
            &quot;component&quot;: &quot;RuntimeClassInfo&quot;,
            &quot;state&quot;: &quot;property&quot;,
            &quot;action&quot;: &quot;function property(name) {\n    var result = {};\n    \n    if (this.metamodel()[name] === &#x27;property&#x27;) {\n        result = this.model()[name];\n    }\n    return result;\n}&quot;,
            &quot;core&quot;: true
        },
        &quot;1fd72113781734a&quot;: {
            &quot;_id&quot;: &quot;1fd72113781734a&quot;,
            &quot;component&quot;: &quot;RuntimeComponent&quot;,
            &quot;state&quot;: &quot;destroy&quot;,
            &quot;action&quot;: &quot;function destroy() {\n    $component.destroy(this.id());\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;1cb2711479119e2&quot;: {
            &quot;_id&quot;: &quot;1cb2711479119e2&quot;,
            &quot;component&quot;: &quot;RuntimeComponent&quot;,
            &quot;state&quot;: &quot;off&quot;,
            &quot;action&quot;: &quot;function off(state, behaviorId) {\n    var args = [],\n    i = 0,\n    length = 0;\n    length = arguments.length;\n    \n    for (i = 0; i &lt; length - 6; i++) {\n        args.push(arguments[i]);\n    }\n    \n    if ($workflow.checkParams({\n        \&quot;component\&quot;: this, \n        \&quot;methodName\&quot;: \&quot;off\&quot;, \n        \&quot;args\&quot;: args\n        })) {\n        \n        if (state || behaviorId) {\n            if ($metamodel.isValidState(state, this.constructor.name)) {\n                $behavior.remove({\n                    \&quot;behaviorId\&quot;: behaviorId, \n                    \&quot;componentId\&quot;: this.id(), \n                    \&quot;state\&quot;: state\n                });\n            } else { \n                console.warn(\&quot;runtime: invoke \\&#x27;off\\&#x27; method of component &#x27;\&quot; + this.id() + \&quot;&#x27; with an invalid state &#x27;\&quot; + state + \&quot;&#x27;\&quot;); \n            }\n        } else {\n            $behavior.remove({\n                \&quot;componentId\&quot;: this.id()\n            });\n        }\n    }\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;1f0be16cc210997&quot;: {
            &quot;_id&quot;: &quot;1f0be16cc210997&quot;,
            &quot;component&quot;: &quot;RuntimeComponent&quot;,
            &quot;state&quot;: &quot;require&quot;,
            &quot;action&quot;: &quot;function require(id) {\n    return $component.get(id);\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;186ce143271a9d8&quot;: {
            &quot;_id&quot;: &quot;186ce143271a9d8&quot;,
            &quot;component&quot;: &quot;RuntimeDatabase&quot;,
            &quot;state&quot;: &quot;collections&quot;,
            &quot;action&quot;: &quot;function collections() {\n    var result = {},\n    collectionName = &#x27;&#x27;;\n    \n    for (collectionName in $db.store) {\n        if ($db.store.hasOwnProperty(collectionName) &amp;&amp; collectionName.indexOf(&#x27;Runtime&#x27;) !== 0) {\n            result[collectionName] = $db[collectionName];\n            \n        }\n    }\n    return result;\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;11d491ba1818e5e&quot;: {
            &quot;_id&quot;: &quot;11d491ba1818e5e&quot;,
            &quot;component&quot;: &quot;RuntimeDatabase&quot;,
            &quot;state&quot;: &quot;subsystem&quot;,
            &quot;action&quot;: &quot;function subsystem(params) {\n    return $db.subsystem(params);\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;113961959f1c9b5&quot;: {
            &quot;_id&quot;: &quot;113961959f1c9b5&quot;,
            &quot;component&quot;: &quot;RuntimeDatabase&quot;,
            &quot;state&quot;: &quot;system&quot;,
            &quot;action&quot;: &quot;function system(system) {\n    return $db.system(system);\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;152ef134301a371&quot;: {
            &quot;_id&quot;: &quot;152ef134301a371&quot;,
            &quot;component&quot;: &quot;RuntimeMetamodel&quot;,
            &quot;state&quot;: &quot;create&quot;,
            &quot;action&quot;: &quot;function create() {\n    $metamodel.create();\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;12ee910b1518dee&quot;: {
            &quot;_id&quot;: &quot;12ee910b1518dee&quot;,
            &quot;component&quot;: &quot;RuntimeMetamodel&quot;,
            &quot;state&quot;: &quot;schema&quot;,
            &quot;action&quot;: &quot;function schema(schema) {\n    $metamodel.schema(schema);\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;113501536c165b8&quot;: {
            &quot;_id&quot;: &quot;113501536c165b8&quot;,
            &quot;component&quot;: &quot;RuntimeMetamodel&quot;,
            &quot;state&quot;: &quot;type&quot;,
            &quot;action&quot;: &quot;function type(type) {\n    $metamodel.type(type);\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        },
        &quot;11c031f74616bc8&quot;: {
            &quot;_id&quot;: &quot;11c031f74616bc8&quot;,
            &quot;component&quot;: &quot;RuntimeSystem&quot;,
            &quot;state&quot;: &quot;sync&quot;,
            &quot;action&quot;: &quot;function sync() {\n    var system = JSON.parse($db.system());\n    \n    this.schemas(system.schemas);\n    this.types(system.types);\n    this.behaviors(system.behaviors);\n    this.components(system.components);\n}&quot;,
            &quot;core&quot;: true,
            &quot;useCoreAPI&quot;: true
        }
    },
    &quot;components&quot;: {
        &quot;RuntimeAdmin&quot;: {
            &quot;admin&quot;: {
                &quot;_id&quot;: &quot;admin&quot;
            }
        },
        &quot;Runtime&quot;: {
            &quot;runtime&quot;: {
                &quot;_id&quot;: &quot;runtime&quot;,
                &quot;version&quot;: &quot;1.0.0&quot;
            }
        },
        &quot;RuntimeDatabase&quot;: {
            &quot;db&quot;: {
                &quot;_id&quot;: &quot;db&quot;
            }
        },
        &quot;RuntimeMetamodel&quot;: {
            &quot;metamodel&quot;: {
                &quot;_id&quot;: &quot;metamodel&quot;
            }
        },
        &quot;RuntimeSystem&quot;: {
            &quot;18ed81de331252c&quot;: {
                &quot;_id&quot;: &quot;18ed81de331252c&quot;,
                &quot;name&quot;: &quot;system-admin&quot;,
                &quot;version&quot;: &quot;0.1.0&quot;,
                &quot;description&quot;: &quot;Runtime Component administration&quot;,
                &quot;subsystem&quot;: true,
                &quot;master&quot;: false
            },
            &quot;133421d0c313d2d&quot;: {
                &quot;_id&quot;: &quot;133421d0c313d2d&quot;,
                &quot;name&quot;: &quot;web&quot;,
                &quot;version&quot;: &quot;0.1.0&quot;,
                &quot;description&quot;: &quot;Add behaviors for web&quot;,
                &quot;subsystem&quot;: true,
                &quot;master&quot;: false
            },
            &quot;1f6ff194df1c37a&quot;: {
                &quot;_id&quot;: &quot;1f6ff194df1c37a&quot;,
                &quot;name&quot;: &quot;webType&quot;,
                &quot;version&quot;: &quot;0.1.0&quot;,
                &quot;description&quot;: &quot;Add types for web&quot;,
                &quot;subsystem&quot;: true,
                &quot;master&quot;: false
            }
        }
    },
    &quot;name&quot;: &quot;runtime&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;description&quot;: &quot;Runtime&quot;,
    &quot;_id&quot;: &quot;e89c617b6b15d24&quot;,
    &quot;master&quot;: false,
    &quot;subsystem&quot;: false
};

/* exports  */


/**
 * This module contains Runtime core system.
 *
 * @module runtime
 * @submodule runtime-system
 * @class runtime-system
 * @static 
 */


/**
 * Runtime core system
 * @property {RuntimeSystem} system
 */
exports.system = system;

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
